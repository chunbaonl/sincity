<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="eu.greenhouseinnovation.selly.common.model.dao.BlogDao">

    <!-- Queries: -->

    <!-- blogs are NewsItems with categoryId = 1 -->
    <select id="getBlogsForLocation" parameterType="string" resultType="Blog" resultMap="BlogResultMap">
        SELECT * FROM news
        WHERE shoppingmallId = #{locationId}
          AND isPublished = 1
          AND categoryId = 1
        ORDER BY dateCreated DESC
    </select>

    <!-- Result maps -->

    <resultMap type="Blog" id="BlogResultMap">
        <result property="mId" column="id"/>
        <result property="mLocationId" column="shoppingmallId"/>

        <result property="mUserCreated" column="userCreated"/>
        <result property="mDateCreated" column="dateCreated"/>
        <result property="mUserModified" column="userModified"/>
        <result property="mDateModified" column="dateModified"/>
        <result property="mDatePublished" column="datePublished"/>
        <result property="mIsPublished" column="isPublished"/>
        <result property="mContent" column="content"/>
        <result property="mSummary" column="summary"/>
        <result property="mTitle" column="title"/>
        <result property="mPicture" column="s3picture"/>
        <result property="mOriginalPicture" column="s3originalPicture"/>
        <result property="mThumb" column="s3thumb"/>
        <result property="mVideoFile" column="videoFile"/>
        <result property="mIsFeatured" column="isFeatured"/>
        <result property="mAllowComments" column="allowComments"/>
        <result property="mCategoryId" column="categoryId"/>
        <result property="mMetaDescription" column="metaDescription"/>
        <result property="mCalenderEventId" column="calenderEvent"/>
        <result property="mUrl" column="url"/>
    </resultMap>

</mapper>
